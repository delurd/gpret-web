(()=>{"use strict";(()=>{gsap.registerPlugin(CustomEase);const e=new Lenis;requestAnimationFrame((function t(o){e.raf(o),requestAnimationFrame(t)}));const t=()=>{document.querySelectorAll(".with-cptr").forEach((e=>{const t=document.createElement("span");t.innerHTML='<span class="tl"></span><span class="tr"></span><span class="br"></span><span class="bl"></span>',e.append(t)}))},o=document.querySelectorAll(".metnav-item"),n=(document.querySelector(".metnav-title"),()=>{let e=0;return o.forEach((t=>{t.classList.contains("active")&&(e=t.offsetLeft)})),e});o.forEach((e=>{e.addEventListener("click",(t=>{o.forEach((e=>{e.classList.remove("active")})),e.classList.add("active"),n()})),e.addEventListener("mouseover",(()=>{e.style=`max-width: ${e.scrollWidth}px`})),e.addEventListener("mouseleave",(()=>{e.style=""}))}));const a=document.querySelector(".metering-nav"),r=document.querySelector(".metnav-arrow");r.style=`transform: translate3d(${n()-8}px,0,0); opacity: 1`,a.addEventListener("mousemove",(e=>{const t=a.scrollWidth,o=e.layerX+t/2;r.style.transform=`translate3d(${o-8}px,0,0)`})),a.addEventListener("mouseleave",(()=>{r.style.transform=`translate3d(${n()-8}px,0,0)`}));const s=e=>{o.forEach((e=>{e.classList.remove("active")})),o.forEach((t=>{e.includes(t.innerText.toLowerCase())&&t.classList.add("active")})),r.style=`transform: translate3d(${n()-8}px,0,0); opacity: 1`},c=document.querySelector(".menu"),i=document.querySelector(".mn-bt"),l=document.querySelector(".mn-bg"),d=document.querySelectorAll(".mn-item");l&&(l.onclick=()=>{c.getAttribute("class").includes("active")?c.classList.remove("active"):c.classList.add("active")}),i&&i.addEventListener("click",(e=>{c.getAttribute("class").includes("active")?c.classList.remove("active"):c.classList.add("active")}));const m=e=>{d.forEach((e=>{e.classList.remove("active")})),d.forEach((t=>{t.innerText.toLowerCase()!=e&&t.innerHTML.toLocaleLowerCase()!=e||t.classList.add("active")}))};function u(){const e=document.querySelectorAll(".navigate-button p"),t=document.querySelectorAll(".navigate-button span");document.querySelector(".navigate-button p svg"),e.forEach(((e,o)=>{e.addEventListener("mousemove",(n=>{const a=window.innerWidth/2,r=n.clientX-a,s=e.scrollHeight/2,c=n.offsetY-s;gsap.to(t[o],1,{x:r/5,y:c/2,ease:"power4.out"}),gsap.to(e,1,{x:r/2.5,y:c,ease:"power4.out"})})),e.addEventListener("mouseleave",(()=>{gsap.to(t[o],1,{x:0,y:0,ease:"power2.out",overwrite:!0,onComplete:()=>{t[o].style=""}}),gsap.to(e,.5,{x:0,y:0,ease:"power4.out",overwrite:!0,onComplete:()=>{e.style=""}})}))}))}window.scrollTo(0,0),document.querySelector("main");let p=document.querySelectorAll("[data-scroll]"),y=[];p.forEach((e=>{y.push(e.getBoundingClientRect())}));const v=()=>{p.forEach(((e,t)=>{const o=y[t],n=isNaN(parseInt(e.getAttribute("data-scroll")))?5:parseInt(e.getAttribute("data-scroll"));window.scrollY+window.innerHeight>o.top-100&&window.scrollY<o.y+o.height+100&&gsap.to(e,1.5,{y:-(window.scrollY+Math.floor(window.innerHeight/2)-(o.y+o.height/2)+100)/n,ease:"power3.out"})}))};v(),window.addEventListener("scroll",(e=>{v()}));const g=()=>{c&&c.classList.remove("active"),u(),t(),(()=>{const e=document.querySelector("#home"),t=document.querySelector("body"),o=document.querySelector("#home .content-card"),n=document.querySelector("#home .back-title"),a=document.querySelector("#home .title"),r=document.querySelector(".star"),s=document.querySelector(".char"),c=document.querySelector(".char .c-2"),i=()=>{o.style="transform: translate(-50%, -60dvh)",n.style="transform: translate(-50%, -20vh)",a.style="transform: translate(-50%, -20vh)",s.style="filter: grayscale(0%); transform: translate(-50%, 50px)",c.style="transform: translate(-50%, -20px)",r.classList.add("up")},l=()=>{o.style="",n.style="",a.style="",s.style="",c.style="",r.classList.remove("up")};t.addEventListener("keyup",(e=>{"ArrowDown"==e.key&&i(),"ArrowUp"==e.key&&l()})),e.addEventListener("wheel",(e=>{e.deltaY>10&&i(),e.deltaY<-10&&l()}));const d=e=>{e.movementY>1&&l(),e.movementY<-1&&i()};e.addEventListener("touchstart",(()=>{e.addEventListener("pointermove",d,!0)})),e.addEventListener("touchend",(()=>{e.removeEventListener("pointermove",d,!0)}));const m=document.querySelector(".focus-rect");e.addEventListener("mousemove",(e=>{m.style=`transform : translate(${e.clientX/window.innerWidth*100}px , ${e.clientY/window.innerHeight*100}px)`}))})()},f=()=>{c&&c.classList.remove("active"),e.resize(),e.scrollTo(0,{immediate:!0}),u(),t(),(()=>{console.log("SCROLL FOLLOW"),p=document.querySelectorAll("[data-scroll]");let e=[];p.forEach((t=>{e.push(t.getBoundingClientRect())})),y=e})(),document.querySelectorAll(".profile-card h1").forEach((e=>{const t=document.createElement("div");t.classList.add("acs"),t.innerHTML="<span></span><span></span><span></span><span></span>",e.append(t)})),gsap.timeline(),window.onscroll=e=>{gsap.timeline(),document.querySelector("#structure")&&(gsap.to(".p1 table tr",{y:-window.scrollY/10,onStart:()=>{gsap.to(".profile-card h1",{y:-window.scrollY/70,delay:.4})}}),gsap.to(".p1 table.grid",{y:-window.scrollY/10,delay:.3,ease:"power4.out",duration:1.5}))}},h=()=>{console.log("FADE TO DETAIL"),document.querySelectorAll("#activity .ac-btn").forEach((e=>{e.addEventListener("click",(e=>{console.log("lcik");const t=e.target.parentElement.parentElement.parentElement,o=t.querySelector(".ac-title"),n=t.querySelector(".ac-desc"),a=t.querySelector(".ac-img"),r=t.querySelector(".ac-img img"),s=t.querySelector(".ac-img-wrap"),c=o.getBoundingClientRect(),i=n.getBoundingClientRect(),l=a.getBoundingClientRect(),d=s.getBoundingClientRect();document.querySelector(".container-detail .title").innerText=o.innerText,document.querySelector(".container-detail .desc").innerText=n.innerText,document.querySelector(".container-detail .img-wrap img").setAttribute("src",r.getAttribute("src")),gsap.set(t,{opacity:0}),gsap.set(".container-detail",{"content-visibility":"visible"}),gsap.from(".container-detail .title",1,{left:c.x,top:c.y,ease:"power4.out",onComplete:()=>{document.querySelector(".container-detail .title").style=""}}),gsap.from(".container-detail .desc",1,{left:i.x,top:i.y,ease:"power4.out",onComplete:()=>{document.querySelector(".container-detail .desc").style=""}}),gsap.from(".container-detail .img-container",{left:l.x,top:l.y,width:l.width,height:l.height,ease:"power4.out",onComplete:()=>{document.querySelector(".container-detail .img-container").style=""}}),gsap.from(".container-detail .img-wrap",1,{left:d.x,top:d.y,width:d.width,height:d.height,ease:"power4.out",onComplete:()=>{document.querySelector(".container-detail .img-wrap").style=""}})}))}))},w=()=>gsap.to(".fader",{bottom:0,duration:.8,opacity:1,ease:CustomEase.create("custom","M0,0 C0.031,0.971 0.429,0.989 1,1 ")}),L=()=>gsap.to(".fader",{opacity:0,onComplete:()=>{document.querySelector(".fader").style=""}});barba.init({transitions:[{name:"default-transition",before(){w()},leave:e=>gsap.to(e.current.container,{opacity:0}),afterLeave(e){e.current.container.remove()},enter:e=>(s(e.next.namespace),m(e.next.namespace),gsap.from(e.next.container,{opacity:0,delay:.3})),after(){L(),f()},once(e){s(e.next.namespace),f(),m(e.next.namespace)}},{name:"home",from:{},to:{namespace:["home"]},before(){w()},leave:e=>gsap.to(e.current.container,{opacity:0}),enter:e=>(s(e.next.namespace),m(e.next.namespace),e.current.container.remove(),g(),gsap.from(e.next.container,{delay:.3,opacity:0})),after(){L()},once(e){s(e.next.namespace),g()}},{name:"activity-detail",from:{namespace:["activity"]},to:{namespace:["activity-detail"]},beforeLeave(){},leave:e=>(h(),console.log("BEFORE"),gsap.to(e.current.container,{delay:.5})),enter:t=>(t.current.container.remove(),e.scrollTo(0,{immediate:!0}),e.resize(),gsap.from(t.next.container,{duration:.01})),after(){f()}}],views:[{namespace:"activity",afterEnter(){document.querySelectorAll(".ac-content").forEach((e=>{const t=document.createElement("div");t.classList.add("ac-acs","star"),t.innerHTML="<div>\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        </div>",e.append(t)})),document.querySelectorAll("#activity .ac-btn").forEach((e=>{const t=e.querySelector(".ac-btn-bg");e.addEventListener("mouseover",(o=>{const n=e.clientWidth/2,a=o.offsetX-n,r=e.clientHeight/2,s=o.offsetY-r;gsap.to(t,2,{x:a/5,y:s/2,height:"130px",top:"-20px",ease:"power4.out"}),gsap.to(e,2,{x:a/2.5,y:s,ease:"power4.out"})})),e.addEventListener("mousemove",(o=>{const n=e.clientWidth/2,a=o.offsetX-n,r=e.clientHeight/2,s=o.offsetY-r;gsap.to(t,2,{x:a/5,y:s/2,ease:"power4.out"}),gsap.to(e,2,{x:a/2.5,y:s,ease:"power4.out"})})),e.addEventListener("mouseleave",(()=>{gsap.to(t,1,{x:0,y:0,height:90,top:0,ease:"power2.out",overwrite:!0,onComplete:()=>{t.style=""}}),gsap.to(e,.5,{x:0,y:0,ease:"power4.out",overwrite:!0,onComplete:()=>{e.style=""}})}))})),h()}},{namespace:"contact",afterEnter(){(()=>{const e=document.querySelector(".card");document.querySelector(".card"),gsap.to(e,2,{ease:"power4.out",rotationX:2,transformPerspective:800,overwrite:!0}),window.addEventListener("mousemove",(async t=>{const o=e.scrollWidth,n=e.scrollHeight,a=t.clientX,r=t.clientY;var s=e.getBoundingClientRect(),c=s.top,i=s.left;let l=a-Math.round(i)-o/2,d=r-Math.round(c)-n/2;l>o/4&&(l=o/4),l<-o/4&&(l=-o/4),d>n/4&&(d=n/4),d<-n/4&&(d=-n/4);const m=Math.abs(l)/(o/2)*10,u=Math.abs(d)/(n/2)*10;Math.round((m+u)/2),gsap.to(e,2,{ease:"power4.out",rotationY:l/100,rotationX:-d/40,transformPerspective:800,overwrite:!0})}))})()}}]})})()})();